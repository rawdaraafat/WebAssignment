<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Books Library - Book List</title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="bars.css">
        <link rel="stylesheet" href="books.css">
    </head>

    <body>
    <div class="bars"></div>
    <script src="bars.js"></script>
        <div class="container">
            <h1>The Readers' Planet - Book List</h1>
            <div class="search-section">
                <img src="imgs/search.png" style="width: 25px ; height: 25px">
                <input type="text" id="searchInput" style="background-color: snow" placeholder="Search by Title or Author">
            </div>

            <div class="book-shelf" id="dynamicBookShelf">

            </div>
        </div>
        <script src="booklist.js"></script>
        <script src="search.js"></script>
        <script>
            setupSearch('searchInput', books, displayBooks);
        </script>

        <script>
            // Load books from localStorage or use the default list if localStorage is empty
            const storedBooks = JSON.parse(localStorage.getItem('books')) || books;

            // Save the default list to localStorage if it's empty
            if (!localStorage.getItem('books')) {
                localStorage.setItem('books', JSON.stringify(storedBooks));
            }

            // Initialize the book list
            setupSearch('searchInput', storedBooks, displayBooks);
        </script>

        <script>
            document.addEventListener("DOMContentLoaded", () => {
                // Load books from localStorage
                const storedBooks = JSON.parse(localStorage.getItem('books')) || [];

                // Check if storedBooks is defined
                console.log(storedBooks); // To verify the data

                // Call displayBooks with storedBooks
                displayBooks(storedBooks);
            });
        </script>
    </body>
</html>
